local Framework = require(game.ReplicatedStorage:WaitForChild('Framework'):WaitForChild('Library'))
local previous_compute = nil


hookfunction(getupvalue(Framework.Network.Invoke, 1), function(...)
    return true
end)


old_invoke = hookfunction(Framework.Network.Invoke, function(name, ...)
    if name == 'Daycare: Compute Loot' then
        local result = old_invoke(name, ...)

        if previous_compute then
            for _, reward in pairs(result) do
                for reward_id, previous_reward in pairs(previous_compute) do
                    if reward.Category ~= previous_reward.Category then
                        continue
                    end

                    if reward.Data ~= previous_reward.Data then
                        continue
                    end

                    previous_compute[reward_id].Min += reward.Min
                    previous_compute[reward_id].Max += reward.Max
                end
            end
        end

        if previous_compute == nil then
            previous_compute = result
        end

        return previous_compute
    end

    return old_invoke(name, ...)
end)
